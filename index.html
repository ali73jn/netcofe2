<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุงุฑ ฺฉุงููุช</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Tahoma:wght@400;700&display=swap">
</head>
<body>
    <div id="offline-indicator" class="offline-indicator hidden">๐ ุญุงูุช ุขููุงู</div>
    <main id="grid-container">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>ุฏุฑ ุญุงู ุฑุงูโุงูุฏุงุฒ...</p>
        </div>
    </main>

    <div id="control-menu">
        <div id="sub-controls" class="hidden-controls">
            <button id="add-card-btn" class="sub-btn">โ</button>
            <button id="refresh-bookmarks-btn" class="sub-btn">๐</button>
            <button id="set-background-btn" class="sub-btn">๐ผ๏ธ</button>
            <button id="toggle-theme-btn" class="sub-btn">๐</button>
            <button id="export-bookmarks-btn" class="sub-btn">๐๐ค</button>
            <button id="import-bookmarks-btn" class="sub-btn">๐๐ฅ</button>
            <button id="export-settings-btn" class="sub-btn">โ๏ธ๐ค</button>
            <button id="import-settings-btn" class="sub-btn">โ๏ธ๐ฅ</button>
            <button id="search-btn" class="sub-btn">๐</button>
        </div>
        <button id="edit-mode-btn" class="main-btn">โ๏ธ</button>
    </div>

    <input type="file" id="import-settings-file" accept=".json" style="display:none;">
    <input type="file" id="import-bookmarks-file" accept=".json" style="display:none;">
    <input type="file" id="background-file-input" accept="image/*" style="display:none;">

    <div id="bookmark-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3>ูุฏุฑุช ูุญุชูุง</h3>
            <form id="bookmark-form">
                <label for="bookmark-type">ููุน:</label>
                <select id="bookmark-type"><option value="bookmark">ุจูฺฉูุงุฑฺฉ</option><option value="folder">ูพูุดู</option></select>
                <label for="bookmark-name">ูุงู:</label><input type="text" id="bookmark-name" required>
                <div id="url-field-group"><label for="bookmark-url">ุขุฏุฑุณ:</label><input type="url" id="bookmark-url"></div>
                <label for="bookmark-description">ุชูุถุญุงุช:</label><textarea id="bookmark-description" rows="3"></textarea>
                <div class="modal-buttons">
                    <button type="button" id="delete-btn" class="btn-danger hidden">ุญุฐู</button>
                    <button type="button" id="cancel-btn" class="btn-secondary">ูุบู</button>
                    <button type="submit" id="save-btn" class="btn-success">ุฐุฎุฑู</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // ุฑุงูโุงูุฏุงุฒ ุณุงุฏู ู ูุณุชูู
        console.log('ุฑุงูโุงูุฏุงุฒ ุดุฑูุน ุดุฏ.');
        // ุจุนุฏ ุงุฒ 2 ุซุงููุ ูุงู ุงุตู ุฑู ุจุงุฑฺฏุฐุงุฑ ฺฉู
        setTimeout(() => {
            const script = document.createElement('script');
            script.src = 'dashboard.js';
            script.onload = () => console.log('โ dashboard.js ุจุงุฑฺฏุฐุงุฑ ุดุฏ.');
            script.onerror = (e) => {
                console.error('โ ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ dashboard.js:', e);
                document.getElementById('grid-container').innerHTML = '<p style="color:red; padding:50px; text-align:center;">ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ูุงู ุงุตู.</p>';
            };
            document.body.appendChild(script);
        }, 2000);
    </script>
</body>
</html>